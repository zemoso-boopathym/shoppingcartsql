{"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/app/app.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/app/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":61}},"6":{"start":{"line":9,"column":17},"end":{"line":9,"column":51}},"7":{"start":{"line":10,"column":18},"end":{"line":10,"column":63}},"8":{"start":{"line":11,"column":18},"end":{"line":11,"column":63}},"9":{"start":{"line":12,"column":15},"end":{"line":12,"column":57}},"10":{"start":{"line":13,"column":16},"end":{"line":13,"column":59}},"11":{"start":{"line":14,"column":19},"end":{"line":14,"column":65}},"12":{"start":{"line":15,"column":17},"end":{"line":15,"column":42}},"13":{"start":{"line":16,"column":12},"end":{"line":16,"column":36}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":30}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":34}},"17":{"start":{"line":21,"column":0},"end":{"line":21,"column":63}},"18":{"start":{"line":22,"column":0},"end":{"line":22,"column":82}},"19":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}},"20":{"start":{"line":24,"column":0},"end":{"line":24,"column":42}},"21":{"start":{"line":25,"column":0},"end":{"line":28,"column":3}},"22":{"start":{"line":26,"column":4},"end":{"line":26,"column":51}},"23":{"start":{"line":27,"column":4},"end":{"line":27,"column":11}},"24":{"start":{"line":29,"column":0},"end":{"line":29,"column":27}},"25":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}},"26":{"start":{"line":31,"column":0},"end":{"line":31,"column":34}},"27":{"start":{"line":32,"column":0},"end":{"line":32,"column":28}},"28":{"start":{"line":33,"column":0},"end":{"line":37,"column":3}},"29":{"start":{"line":34,"column":4},"end":{"line":36,"column":7}},"30":{"start":{"line":38,"column":0},"end":{"line":38,"column":59}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":25,"column":8},"end":{"line":25,"column":9}},"loc":{"start":{"line":25,"column":28},"end":{"line":28,"column":1}},"line":25},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":8},"end":{"line":33,"column":9}},"loc":{"start":{"line":33,"column":37},"end":{"line":37,"column":1}},"line":33}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":38,"column":29},"end":{"line":38,"column":57}},"type":"binary-expr","locations":[{"start":{"line":38,"column":29},"end":{"line":38,"column":49}},{"start":{"line":38,"column":53},"end":{"line":38,"column":57}}],"line":38}},"s":{"0":1,"1":9,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":31,"23":31,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1},"f":{"0":9,"1":31,"2":1},"b":{"0":[1,1,1],"1":[5,4],"2":[9,9],"3":[1,0]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/app/app.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/app/app.ts"],"names":[],"mappings":";;;;;AAAA,sDAAmE;AACnE,gDAAwB;AACxB,8DAAqC;AACrC,oDAA4B;AAE5B,gEAA2C;AAC3C,gEAA6C;AAC7C,0DAAwC;AACxC,4DAAyC;AACzC,kEAA0C;AAE1C,2CAAwC;AAUxC,MAAM,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;AAEtB,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AAC9B,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAE1B,sBAAsB;AACtB,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,eAAe;AACxC,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,qCAAqC;AAE1F,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,MAAM,CAAC,cAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AAE9D,GAAG,CAAC,GAAG,CAAC,iBAAU,CAAC,CAAC;AAEpB,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,aAAa,EAAE,CAAC,CAAC;AAEhC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAgB,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC9D,GAAG,CAAC,MAAM,CAAC,eAAe,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC/C,IAAI,EAAE,CAAC;AACT,CAAC,CAAC,CAAC;AAEH,GAAG,CAAC,GAAG,CAAC,iBAAY,CAAC,CAAC;AACtB,GAAG,CAAC,GAAG,CAAC,cAAU,CAAC,CAAC;AACpB,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,eAAU,CAAC,CAAC;AAE7B,GAAG,CAAC,GAAG,CAAC,kBAAQ,CAAC,CAAC;AAElB,GAAG,CAAC,GAAG,CACL,CACE,KAAsB,EACtB,IAAiB,EACjB,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC;QACpC,KAAK,EAAE,KAAK;KACb,CAAC,CAAC;AACL,CAAC,CACF,CAAC;AAEF,kBAAe,GAAG,CAAC,MAAM,CAAC,eAAM,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC","sourcesContent":["import express, { Request, Response, NextFunction } from \"express\";\nimport path from \"path\";\nimport bodyParser from \"body-parser\";\nimport helmet from \"helmet\";\n\nimport setHeaders from \"../routes/headers\";\nimport landingRoute from \"../routes/landing\";\nimport userRoutes from \"../routes/user\";\nimport postRoutes from \"../routes/posts\";\nimport error404 from \"../routes/error404\";\n\nimport { config } from \"../util/config\";\n\ninterface UserRequest extends Request {\n  username?: string;\n}\n\ninterface ErrorStatusCode extends Error {\n  httpStatusCode: number;\n}\n\nconst app = express();\n\napp.set(\"view engine\", \"ejs\");\napp.set(\"views\", \"views\");\n\n// Parsing the request\napp.use(express.json()); // Content-type\napp.use(bodyParser.urlencoded({ extended: false })); // Content-type x-www-form-urlencoded\n\napp.use(express.static(path.join(__dirname, \"..\", \"public\")));\n\napp.use(setHeaders);\n\napp.use(helmet.hidePoweredBy());\n\napp.use((req: UserRequest, res: Response, next: NextFunction) => {\n  res.locals.isAuthenticated = req.body.username;\n  next();\n});\n\napp.use(landingRoute);\napp.use(userRoutes);\napp.use(\"/post\", postRoutes);\n\napp.use(error404);\n\napp.use(\n  (\n    error: ErrorStatusCode,\n    _req: UserRequest,\n    res: Response,\n    _next: NextFunction\n  ) => {\n    res.status(error.httpStatusCode).json({\n      error: error,\n    });\n  }\n);\n\nexport default app.listen(config.PORT || 3000);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"676f408cb87f1f93cd6925006bcb3abe7b768ee8","contentHash":"c24a0f9b480fe22a840a2cea8195b1aae8f63f852d7699150ff2795c7df990b3"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/headers.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/headers.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":41}},"5":{"start":{"line":8,"column":0},"end":{"line":11,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":112}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":11}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":11},"end":{"line":8,"column":12}},"loc":{"start":{"line":8,"column":32},"end":{"line":11,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":31,"7":31,"8":1},"f":{"0":1,"1":31},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/headers.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/headers.ts"],"names":[],"mappings":";;;;;AAAA,sDAAmE;AAEnE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAa,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAC9D,GAAG,CAAC,MAAM,CACR,8BAA8B,EAC9B,+DAA+D,CAChE,CAAC;IACF,IAAI,EAAE,CAAC;AACT,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import express, { Request, Response, NextFunction } from \"express\";\n\nconst router = express.Router();\n\nrouter.use((_req: Request, res: Response, next: NextFunction) => {\n  res.header(\n    \"Access-Control-Allow-Headers\",\n    \"Origin, X-Requested-With, Content-Type, Accept, Authorization\"\n  );\n  next();\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"391ad85ebd16ad94dae4527fa005d673dcdcd276","contentHash":"cfb1376519a24600cb786455a3a5bad2b6eb9917bfdcfd0ee6699a84d8f44d16"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/landing.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/landing.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":41}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":39}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/landing.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/landing.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,oDAAqD;AAErD,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,qBAAW,CAAC,CAAC;AAE7B,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport { landingPage } from \"../controllers/landing\";\n\nconst router = express.Router();\n\nrouter.get(\"/\", landingPage);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4fd872b4eb734645b3df2110794a4d1ab131f915","contentHash":"3721bb58285ea7a6998f01300168fa0da6684dd4192e7e0a217ff47824e89308"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/landing.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/landing.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":20},"end":{"line":11,"column":1}},"3":{"start":{"line":5,"column":4},"end":{"line":10,"column":7}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":20},"end":{"line":4,"column":21}},"loc":{"start":{"line":4,"column":41},"end":{"line":11,"column":1}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/landing.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/landing.ts"],"names":[],"mappings":";;;AAMO,MAAM,WAAW,GAAG,CACzB,GAAgB,EAChB,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,eAAe,EAAE;QACtC,IAAI,EAAE,gBAAgB;QACtB,SAAS,EAAE,SAAS;QACpB,KAAK,EAAE,IAAI;QACX,eAAe,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;KACnC,CAAC,CAAC;AACL,CAAC,CAAC;AAXW,QAAA,WAAW,eAWtB","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\n\ninterface UserRequest extends Request {\n  username?: string;\n}\n\nexport const landingPage = (\n  req: UserRequest,\n  res: Response,\n  _next: NextFunction\n) => {\n  res.status(200).render(\"posts/welcome\", {\n    path: \"/posts/welcome\",\n    pageTitle: \"Welcome\",\n    token: null,\n    isAuthenticated: req.body.username,\n  });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2341c156cc29d395c9e0a594d27ab4e37f364990","contentHash":"4249d260e1d9f388baddc0bc04977d93122a0c275cb7c2ceacc4743b94f6c581"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/user.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/user.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":45}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":65}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":39}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":42}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":65}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":66}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/user.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/user.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,8CAQ6B;AAC7B,kEAAmD;AAEnD,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,gBAAS,CAAC,CAAC;AAChC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,iBAAU,CAAC,CAAC;AAElC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAS,CAAC,CAAC;AACjC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,eAAQ,CAAC,CAAC;AACjC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAU,CAAC,CAAC;AAEnC,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,gBAAe,EAAE,kBAAW,CAAC,CAAC;AACzD,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,gBAAe,EAAE,iBAAU,CAAC,CAAC;AAE1D,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport {\n  loginPage,\n  signupPage,\n  register,\n  postLogin,\n  getAllUsers,\n  logoutUser,\n  deleteUser,\n} from \"../controllers/user\";\nimport isAuthenticated from \"../middleware/isAuth\";\n\nconst router = express.Router();\n\nrouter.get(\"/login\", loginPage);\nrouter.get(\"/signup\", signupPage);\n\nrouter.post(\"/login\", postLogin);\nrouter.post(\"/signup\", register);\nrouter.post(\"/logout\", logoutUser);\n\nrouter.get(\"/getallusers\", isAuthenticated, getAllUsers);\nrouter.delete(\"/deleteUser\", isAuthenticated, deleteUser);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ab1c868e519fcc8c29368c888fe685881230351d","contentHash":"4ad610f902f3fb19b9324177b5223220b674498e3a1fcdcb43a004aedf827fc2"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/user.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/user.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":151}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":55}},"17":{"start":{"line":17,"column":18},"end":{"line":17,"column":61}},"18":{"start":{"line":18,"column":15},"end":{"line":18,"column":57}},"19":{"start":{"line":19,"column":18},"end":{"line":30,"column":1}},"20":{"start":{"line":20,"column":4},"end":{"line":29,"column":7}},"21":{"start":{"line":31,"column":0},"end":{"line":31,"column":30}},"22":{"start":{"line":32,"column":19},"end":{"line":44,"column":1}},"23":{"start":{"line":33,"column":4},"end":{"line":43,"column":7}},"24":{"start":{"line":45,"column":0},"end":{"line":45,"column":32}},"25":{"start":{"line":46,"column":17},"end":{"line":75,"column":2}},"26":{"start":{"line":46,"column":38},"end":{"line":75,"column":2}},"27":{"start":{"line":47,"column":4},"end":{"line":74,"column":5}},"28":{"start":{"line":48,"column":36},"end":{"line":48,"column":44}},"29":{"start":{"line":49,"column":8},"end":{"line":65,"column":9}},"30":{"start":{"line":50,"column":33},"end":{"line":50,"column":76}},"31":{"start":{"line":51,"column":30},"end":{"line":51,"column":69}},"32":{"start":{"line":52,"column":27},"end":{"line":52,"column":49}},"33":{"start":{"line":53,"column":12},"end":{"line":64,"column":13}},"34":{"start":{"line":54,"column":16},"end":{"line":63,"column":19}},"35":{"start":{"line":66,"column":8},"end":{"line":66,"column":41}},"36":{"start":{"line":69,"column":22},"end":{"line":69,"column":25}},"37":{"start":{"line":70,"column":8},"end":{"line":73,"column":11}},"38":{"start":{"line":76,"column":0},"end":{"line":76,"column":28}},"39":{"start":{"line":77,"column":18},"end":{"line":100,"column":2}},"40":{"start":{"line":77,"column":39},"end":{"line":100,"column":2}},"41":{"start":{"line":78,"column":32},"end":{"line":78,"column":40}},"42":{"start":{"line":79,"column":4},"end":{"line":99,"column":5}},"43":{"start":{"line":80,"column":26},"end":{"line":80,"column":61}},"44":{"start":{"line":81,"column":25},"end":{"line":81,"column":58}},"45":{"start":{"line":82,"column":23},"end":{"line":82,"column":90}},"46":{"start":{"line":83,"column":8},"end":{"line":91,"column":9}},"47":{"start":{"line":84,"column":26},"end":{"line":84,"column":64}},"48":{"start":{"line":85,"column":12},"end":{"line":90,"column":13}},"49":{"start":{"line":86,"column":16},"end":{"line":89,"column":19}},"50":{"start":{"line":94,"column":22},"end":{"line":94,"column":25}},"51":{"start":{"line":95,"column":8},"end":{"line":98,"column":11}},"52":{"start":{"line":101,"column":0},"end":{"line":101,"column":30}},"53":{"start":{"line":102,"column":19},"end":{"line":115,"column":2}},"54":{"start":{"line":102,"column":40},"end":{"line":115,"column":2}},"55":{"start":{"line":103,"column":4},"end":{"line":103,"column":29}},"56":{"start":{"line":104,"column":4},"end":{"line":104,"column":39}},"57":{"start":{"line":105,"column":4},"end":{"line":114,"column":7}},"58":{"start":{"line":116,"column":0},"end":{"line":116,"column":32}},"59":{"start":{"line":117,"column":20},"end":{"line":124,"column":2}},"60":{"start":{"line":117,"column":42},"end":{"line":124,"column":2}},"61":{"start":{"line":118,"column":22},"end":{"line":118,"column":52}},"62":{"start":{"line":119,"column":21},"end":{"line":119,"column":47}},"63":{"start":{"line":120,"column":4},"end":{"line":123,"column":7}},"64":{"start":{"line":125,"column":0},"end":{"line":125,"column":34}},"65":{"start":{"line":126,"column":19},"end":{"line":143,"column":2}},"66":{"start":{"line":126,"column":39},"end":{"line":143,"column":2}},"67":{"start":{"line":127,"column":22},"end":{"line":127,"column":30}},"68":{"start":{"line":128,"column":4},"end":{"line":142,"column":5}},"69":{"start":{"line":129,"column":26},"end":{"line":129,"column":56}},"70":{"start":{"line":130,"column":23},"end":{"line":130,"column":58}},"71":{"start":{"line":131,"column":8},"end":{"line":133,"column":9}},"72":{"start":{"line":132,"column":12},"end":{"line":132,"column":51}},"73":{"start":{"line":134,"column":22},"end":{"line":134,"column":50}},"74":{"start":{"line":135,"column":8},"end":{"line":135,"column":35}},"75":{"start":{"line":136,"column":8},"end":{"line":136,"column":27}},"76":{"start":{"line":139,"column":8},"end":{"line":141,"column":11}},"77":{"start":{"line":144,"column":0},"end":{"line":144,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":18},"end":{"line":19,"column":19}},"loc":{"start":{"line":19,"column":40},"end":{"line":30,"column":1}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":32,"column":19},"end":{"line":32,"column":20}},"loc":{"start":{"line":32,"column":41},"end":{"line":44,"column":1}},"line":32},"10":{"name":"(anonymous_10)","decl":{"start":{"line":46,"column":17},"end":{"line":46,"column":18}},"loc":{"start":{"line":46,"column":38},"end":{"line":75,"column":2}},"line":46},"11":{"name":"(anonymous_11)","decl":{"start":{"line":46,"column":72},"end":{"line":46,"column":73}},"loc":{"start":{"line":46,"column":85},"end":{"line":75,"column":1}},"line":46},"12":{"name":"(anonymous_12)","decl":{"start":{"line":77,"column":18},"end":{"line":77,"column":19}},"loc":{"start":{"line":77,"column":39},"end":{"line":100,"column":2}},"line":77},"13":{"name":"(anonymous_13)","decl":{"start":{"line":77,"column":73},"end":{"line":77,"column":74}},"loc":{"start":{"line":77,"column":86},"end":{"line":100,"column":1}},"line":77},"14":{"name":"(anonymous_14)","decl":{"start":{"line":102,"column":19},"end":{"line":102,"column":20}},"loc":{"start":{"line":102,"column":40},"end":{"line":115,"column":2}},"line":102},"15":{"name":"(anonymous_15)","decl":{"start":{"line":102,"column":74},"end":{"line":102,"column":75}},"loc":{"start":{"line":102,"column":87},"end":{"line":115,"column":1}},"line":102},"16":{"name":"(anonymous_16)","decl":{"start":{"line":117,"column":20},"end":{"line":117,"column":21}},"loc":{"start":{"line":117,"column":42},"end":{"line":124,"column":2}},"line":117},"17":{"name":"(anonymous_17)","decl":{"start":{"line":117,"column":76},"end":{"line":117,"column":77}},"loc":{"start":{"line":117,"column":89},"end":{"line":124,"column":1}},"line":117},"18":{"name":"(anonymous_18)","decl":{"start":{"line":126,"column":19},"end":{"line":126,"column":20}},"loc":{"start":{"line":126,"column":39},"end":{"line":143,"column":2}},"line":126},"19":{"name":"(anonymous_19)","decl":{"start":{"line":126,"column":73},"end":{"line":126,"column":74}},"loc":{"start":{"line":126,"column":86},"end":{"line":143,"column":1}},"line":126}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":49,"column":8},"end":{"line":65,"column":9}},"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":65,"column":9}},{"start":{"line":49,"column":8},"end":{"line":65,"column":9}}],"line":49},"9":{"loc":{"start":{"line":49,"column":12},"end":{"line":49,"column":29}},"type":"binary-expr","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":17}},{"start":{"line":49,"column":21},"end":{"line":49,"column":29}}],"line":49},"10":{"loc":{"start":{"line":53,"column":12},"end":{"line":64,"column":13}},"type":"if","locations":[{"start":{"line":53,"column":12},"end":{"line":64,"column":13}},{"start":{"line":53,"column":12},"end":{"line":64,"column":13}}],"line":53},"11":{"loc":{"start":{"line":83,"column":8},"end":{"line":91,"column":9}},"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":91,"column":9}},{"start":{"line":83,"column":8},"end":{"line":91,"column":9}}],"line":83},"12":{"loc":{"start":{"line":85,"column":12},"end":{"line":90,"column":13}},"type":"if","locations":[{"start":{"line":85,"column":12},"end":{"line":90,"column":13}},{"start":{"line":85,"column":12},"end":{"line":90,"column":13}}],"line":85},"13":{"loc":{"start":{"line":131,"column":8},"end":{"line":133,"column":9}},"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":133,"column":9}},{"start":{"line":131,"column":8},"end":{"line":133,"column":9}}],"line":131}},"s":{"0":1,"1":11,"2":2,"3":12,"4":11,"5":11,"6":0,"7":0,"8":0,"9":0,"10":23,"11":12,"12":1,"13":3,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":2,"27":2,"28":2,"29":2,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":3,"41":3,"42":3,"43":3,"44":3,"45":3,"46":1,"47":1,"48":1,"49":1,"50":2,"51":2,"52":1,"53":1,"54":2,"55":2,"56":2,"57":2,"58":1,"59":1,"60":2,"61":2,"62":2,"63":2,"64":1,"65":1,"66":3,"67":3,"68":3,"69":3,"70":3,"71":3,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1},"f":{"0":12,"1":11,"2":2,"3":12,"4":11,"5":0,"6":23,"7":3,"8":1,"9":1,"10":2,"11":2,"12":3,"13":3,"14":2,"15":2,"16":2,"17":2,"18":3,"19":3},"b":{"0":[1,1,1],"1":[9,2],"2":[12,12],"3":[12,11],"4":[12,12],"5":[1,1,1],"6":[2,1],"7":[3,3],"8":[1,1],"9":[2,1],"10":[1,0],"11":[1,0],"12":[1,0],"13":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/user.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/user.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport bcryptjs from \"bcryptjs\";\nimport signJWT from \"../util/signJWT\";\nimport User from \"../models/user\";\n\ninterface UserRequest extends Request {\n  username?: string | null;\n}\n\ninterface ErrorWithStatusCode extends Error {\n  httpStatusCode?: number;\n}\n\nexport const loginPage = (\n  _req: Request,\n  res: Response,\n  _next: NextFunction\n) => {\n  res.status(200).render(\"auth/login\", {\n    path: \"/login\",\n    pageTitle: \"Login\",\n    errorMessage: \"\",\n    oldInput: {\n      email: \"\",\n      password: \"\",\n    },\n    validationErrors: [],\n  });\n};\n\nexport const signupPage = (\n  _req: Request,\n  res: Response,\n  _next: NextFunction\n) => {\n  res.render(\"auth/signup\", {\n    path: \"/signup\",\n    pageTitle: \"Signup\",\n    errorMessage: \"\",\n    oldInput: {\n      email: \"\",\n      password: \"\",\n      confirmPassword: \"\",\n    },\n    validationErrors: [],\n  });\n};\n\nconst register = async (req: Request, res: Response, _next: NextFunction) => {\n  try {\n    const { email, password } = req.body;\n    if (email && password) {\n      const hashPassword = await bcryptjs.hash(password, 10);\n      const userModel: any = new User(email, hashPassword);\n      const result = await userModel.save();\n      if (result[0].affectedRows === 1) {\n        return res.status(201).render(\"auth/login\", {\n          path: \"/login\",\n          pageTitle: \"Login\",\n          errorMessage: \"\",\n          oldInput: {\n            email: \"\",\n            password: \"\",\n          },\n          validationErrors: [],\n        });\n      }\n    }\n    throw new Error(\"Server Error!\");\n  } catch (err) {\n    const error = err as Error;\n    return res.status(403).json({\n      message: error.message,\n      error,\n    });\n  }\n};\n\nconst postLogin = async (\n  req: UserRequest,\n  res: Response,\n  _next: NextFunction\n) => {\n  const { email, password } = req.body;\n\n  try {\n    const userModel: any = new User(email, password);\n    const userData = await userModel.findByMail(email);\n    const result = await bcryptjs.compare(password, userData[0][0].password);\n    if (result) {\n      const token = signJWT(userData[0][0]);\n      if (token) {\n        return res.status(200).json({\n          token: token,\n          username: userData[0][0].email,\n        });\n      }\n    }\n  } catch (err) {\n    const error = err as Error;\n    return res.status(500).json({\n      message: error.message,\n      error,\n    });\n  }\n};\n\nconst logoutUser = async (\n  req: UserRequest,\n  res: Response,\n  _next: NextFunction\n) => {\n  req.body.username = null;\n  res.locals.isAuthenticated = false;\n  res.status(200).render(\"auth/login\", {\n    path: \"/auth/login\",\n    pageTitle: \"Login\",\n    errorMessage: \"\",\n    oldInput: {\n      email: \"\",\n      password: \"\",\n    },\n    validationErrors: [],\n  });\n};\n\nconst getAllUsers = async (\n  _req: Request,\n  res: Response,\n  _next: NextFunction\n) => {\n  const userModel: any = new User(null, null);\n  const userData = await userModel.fetchAll();\n  res.status(200).json({\n    users: userData[0],\n    count: userData[0].length,\n  });\n};\n\nexport const deleteUser = async (\n  req: Request,\n  res: Response,\n  next: NextFunction\n) => {\n  const { email } = req.body;\n  try {\n    const userModel: any = new User(null, null);\n    const result = await userModel.deleteByMail(email);\n    if (result[0].affectedRows === 1) {\n      return res.status(200).json(result[0]);\n    }\n\n    const error: ErrorWithStatusCode = new Error(\"Data not found!\");\n    error.httpStatusCode = 500;\n    return next(error);\n  } catch (error) {\n    return res.status(404).json({\n      message: error,\n    });\n  }\n};\n\nexport { postLogin, register, logoutUser, getAllUsers };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"04a79fd2a56517ccecdf11ac4e649ba48e8a5270","contentHash":"c3e31e537fd80b12d72a29b1d1d57906977d0988e06083a63f1dd827df09312d"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/signJWT.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/signJWT.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":63}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":42}},"5":{"start":{"line":8,"column":16},"end":{"line":16,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":15,"column":7}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":16},"end":{"line":8,"column":17}},"loc":{"start":{"line":8,"column":26},"end":{"line":16,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/signJWT.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/signJWT.ts"],"names":[],"mappings":";;;;;AAAA,gEAA+B;AAC/B,2CAAwC;AAOxC,MAAM,OAAO,GAAG,CAAC,IAAU,EAAU,EAAE;IACrC,OAAO,sBAAG,CAAC,IAAI,CACb;QACE,QAAQ,EAAE,IAAI,CAAC,KAAK;KACrB,EACD,eAAM,CAAC,OAAQ,EACf;QACE,MAAM,EAAE,UAAU;QAClB,SAAS,EAAE,OAAO;QAClB,SAAS,EAAE,IAAI;KAChB,CACF,CAAC;AACJ,CAAC,CAAC;AAEF,kBAAe,OAAO,CAAC","sourcesContent":["import jwt from \"jsonwebtoken\";\nimport { config } from \"../util/config\";\n\ninterface User {\n  email: string;\n  password: string;\n}\n\nconst signJWT = (user: User): string => {\n  return jwt.sign(\n    {\n      username: user.email,\n    },\n    config.JWT_KEY!,\n    {\n      issuer: \"Boopathy\",\n      algorithm: \"HS256\",\n      expiresIn: \"1h\",\n    }\n  );\n};\n\nexport default signJWT;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"221acc43fb786b96936538822ea29ec6d6c363d1","contentHash":"8f27650592b03729c3b0579ee9a3cb2c481cc8129bd0d0c26cf66c8d781e1183"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/config.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/config.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":24}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}},"4":{"start":{"line":6,"column":0},"end":{"line":16,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/config.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/config.ts"],"names":[],"mappings":";;;AAAA,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACjC,MAAM,CAAC,MAAM,EAAE,CAAC;AACH,QAAA,MAAM,GAAG;IACpB,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI;IACtB,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;IAC5B,UAAU,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;IAClC,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;IACpC,aAAa,EAAE,YAAY;IAC3B,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,QAAQ;IAC9B,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS;IAChC,SAAS,EAAE,OAAO,CAAC,GAAG,CAAC,SAAS;IAChC,MAAM,EAAE,OAAO,CAAC,GAAG,CAAC,MAAM;CAC3B,CAAC","sourcesContent":["const dotenv = require(\"dotenv\");\ndotenv.config();\nexport const config = {\n  PORT: process.env.PORT,\n  JWT_KEY: process.env.JWT_KEY,\n  USER_TOKEN: process.env.USER_TOKEN,\n  ADMIN_TOKEN: process.env.ADMIN_TOKEN,\n  INVALID_TOKEN: \"SOME_TOKEN\",\n  TEST_PWD: process.env.TEST_PWD,\n  ADMIN_PWD: process.env.ADMIN_PWD,\n  WRONG_PWD: process.env.WRONG_PWD,\n  DB_PWD: process.env.DB_PWD,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d9c9bc355ff856e59371f1467ae94462f67ba5bd","contentHash":"ccf91c50e5198939ab3107f61b7becdaf01f8f6b0158359e7b88d3ce98d3ea15"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/user.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/user.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":63}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":69}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":81}},"6":{"start":{"line":13,"column":8},"end":{"line":16,"column":11}},"7":{"start":{"line":19,"column":8},"end":{"line":19,"column":69}},"8":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"9":{"start":{"line":23,"column":12},"end":{"line":23,"column":92}},"10":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"11":{"start":{"line":28,"column":12},"end":{"line":28,"column":94}},"12":{"start":{"line":32,"column":0},"end":{"line":32,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":33},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":11},"end":{"line":17,"column":5}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":15},"end":{"line":20,"column":5}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":24},"end":{"line":25,"column":5}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":22},"end":{"line":30,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":68}},"type":"cond-expr","locations":[{"start":{"line":9,"column":58},"end":{"line":9,"column":63}},{"start":{"line":9,"column":66},"end":{"line":9,"column":68}}],"line":9},"4":{"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":55}},"type":"binary-expr","locations":[{"start":{"line":9,"column":21},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":55}}],"line":9},"5":{"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":80}},"type":"cond-expr","locations":[{"start":{"line":10,"column":67},"end":{"line":10,"column":75}},{"start":{"line":10,"column":78},"end":{"line":10,"column":80}}],"line":10},"6":{"loc":{"start":{"line":10,"column":24},"end":{"line":10,"column":64}},"type":"binary-expr","locations":[{"start":{"line":10,"column":24},"end":{"line":10,"column":41}},{"start":{"line":10,"column":45},"end":{"line":10,"column":64}}],"line":10},"7":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"8":{"loc":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},{"start":{"line":27,"column":8},"end":{"line":29,"column":9}}],"line":27}},"s":{"0":1,"1":1,"2":1,"3":1,"4":9,"5":9,"6":1,"7":2,"8":3,"9":2,"10":3,"11":2,"12":1},"f":{"0":1,"1":9,"2":1,"3":2,"4":3,"5":3},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[3,6],"4":[9,4],"5":[3,6],"6":[9,4],"7":[2,1],"8":[2,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/user.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/user.ts"],"names":[],"mappings":";;;;;AAAA,gEAAkC;AAElC,MAAqB,IAAI;IAGvB,YAAY,KAAoB,EAAE,QAAuB;QACvD,IAAI,CAAC,KAAK,GAAG,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,EAAE,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,EAAE,CAAC;IACjC,CAAC;IAED,IAAI;QACF,OAAO,kBAAE,CAAC,OAAO,CAAC,mDAAmD,EAAE;YACrE,IAAI,CAAC,KAAK;YACV,IAAI,CAAC,QAAQ;SACd,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,OAAO,kBAAE,CAAC,OAAO,CAAC,yBAAyB,CAAC,CAAC;IAC/C,CAAC;IAED,YAAY,CAAC,KAAa;QACxB,IAAI,KAAK,EAAE;YACT,OAAO,kBAAE,CAAC,OAAO,CAAC,mCAAmC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;SACjE;IACH,CAAC;IAED,UAAU,CAAC,KAAa;QACtB,IAAI,KAAK,EAAE;YACT,OAAO,kBAAE,CAAC,OAAO,CAAC,qCAAqC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;SACnE;IACH,CAAC;CACF;AA9BD,uBA8BC","sourcesContent":["import db from \"../util/database\";\n\nexport default class User {\n  email: string | null;\n  password: string | null;\n  constructor(email: string | null, password: string | null) {\n    this.email = email ?? \"\";\n    this.password = password ?? \"\";\n  }\n\n  save() {\n    return db.execute(\"INSERT INTO users (email, password) VALUES (?, ?)\", [\n      this.email,\n      this.password,\n    ]);\n  }\n\n  fetchAll() {\n    return db.execute(\"SELECT email FROM users\");\n  }\n\n  deleteByMail(email: string) {\n    if (email) {\n      return db.execute(\"DELETE FROM users WHERE email = ?\", [email]);\n    }\n  }\n\n  findByMail(email: string) {\n    if (email) {\n      return db.execute(\"SELECT * FROM users WHERE email = ?\", [email]);\n    }\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f8e02f4de7e3de2f5103f082f1b6076a9ccb5d4b","contentHash":"46873369d861f54f18a7fe03a93cadc1f0a1cd051bd4672301e6fdb9effb7e94"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/database.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/database.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":36}},"5":{"start":{"line":8,"column":13},"end":{"line":13,"column":2}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/database.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/util/database.ts"],"names":[],"mappings":";;;;;AAAA,oDAA2B;AAC3B,qCAAkC;AAElC,MAAM,IAAI,GAAG,gBAAK,CAAC,UAAU,CAAC;IAC5B,IAAI,EAAE,WAAW;IACjB,IAAI,EAAE,MAAM;IACZ,QAAQ,EAAE,eAAe;IACzB,QAAQ,EAAE,eAAM,CAAC,MAAM;CACxB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC,OAAO,EAAE,CAAC","sourcesContent":["import mysql from \"mysql2\";\nimport { config } from \"./config\";\n\nconst pool = mysql.createPool({\n  host: \"localhost\",\n  user: \"root\",\n  database: \"node-shopcart\",\n  password: config.DB_PWD,\n});\n\nexport default pool.promise();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"097fa9eb18689c885343a022226bd486548fe717","contentHash":"85c8407eca741d47d3b0d2763c6fe2dbaef301aa1fd9e5ebcd8d7f9ed41e90ef"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/middleware/isAuth.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/middleware/isAuth.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":23},"end":{"line":15,"column":63}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":42}},"17":{"start":{"line":17,"column":24},"end":{"line":45,"column":2}},"18":{"start":{"line":17,"column":44},"end":{"line":45,"column":2}},"19":{"start":{"line":18,"column":23},"end":{"line":18,"column":47}},"20":{"start":{"line":19,"column":4},"end":{"line":24,"column":5}},"21":{"start":{"line":20,"column":8},"end":{"line":23,"column":11}},"22":{"start":{"line":25,"column":4},"end":{"line":44,"column":5}},"23":{"start":{"line":26,"column":22},"end":{"line":26,"column":46}},"24":{"start":{"line":27,"column":8},"end":{"line":37,"column":9}},"25":{"start":{"line":28,"column":33},"end":{"line":28,"column":94}},"26":{"start":{"line":29,"column":12},"end":{"line":29,"column":41}},"27":{"start":{"line":30,"column":12},"end":{"line":30,"column":59}},"28":{"start":{"line":31,"column":12},"end":{"line":31,"column":19}},"29":{"start":{"line":34,"column":12},"end":{"line":36,"column":15}},"30":{"start":{"line":40,"column":22},"end":{"line":40,"column":25}},"31":{"start":{"line":41,"column":8},"end":{"line":43,"column":11}},"32":{"start":{"line":46,"column":0},"end":{"line":46,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":24},"end":{"line":17,"column":25}},"loc":{"start":{"line":17,"column":44},"end":{"line":45,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":78},"end":{"line":17,"column":79}},"loc":{"start":{"line":17,"column":91},"end":{"line":45,"column":1}},"line":17}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":19,"column":4},"end":{"line":24,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":24,"column":5}},{"start":{"line":19,"column":4},"end":{"line":24,"column":5}}],"line":19},"9":{"loc":{"start":{"line":27,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":37,"column":9}},{"start":{"line":27,"column":8},"end":{"line":37,"column":9}}],"line":27}},"s":{"0":1,"1":0,"2":0,"3":20,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":20,"11":20,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":20,"19":20,"20":20,"21":3,"22":17,"23":17,"24":17,"25":16,"26":15,"27":15,"28":15,"29":1,"30":1,"31":1,"32":1},"f":{"0":20,"1":0,"2":0,"3":20,"4":0,"5":0,"6":20,"7":1,"8":20,"9":20},"b":{"0":[1,1,1],"1":[0,0],"2":[20,20],"3":[20,0],"4":[20,20],"5":[1,1,1],"6":[0,1],"7":[1,1],"8":[3,17],"9":[16,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/middleware/isAuth.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/middleware/isAuth.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,gEAA+B;AAE/B,2CAAwC;AAUxC,MAAM,eAAe,GAAG,CACtB,GAAgB,EAChB,GAAa,EACb,IAAkB,EAClB,EAAE;IACF,MAAM,UAAU,GAAG,GAAG,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;IAC5C,IAAI,CAAC,UAAU,EAAE;QACf,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE;YACnC,IAAI,EAAE,MAAM;YACZ,SAAS,EAAE,sBAAsB;SAClC,CAAC,CAAC;KACJ;IACD,IAAI;QACF,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,IAAI,KAAK,EAAE;YACT,MAAM,EAAE,QAAQ,EAAE,GAAG,sBAAG,CAAC,MAAM,CAC7B,KAAK,EACL,eAAM,CAAC,OAAQ,CACS,CAAC;YAC3B,GAAG,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAC7B,GAAG,CAAC,MAAM,CAAC,eAAe,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC/C,IAAI,EAAE,CAAC;SACR;aAAM;YACL,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,OAAO,EAAE,eAAe;aACzB,CAAC,CAAC;SACJ;KACF;IAAC,OAAO,GAAG,EAAE;QACZ,MAAM,KAAK,GAAG,GAAY,CAAC;QAC3B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,KAAK,CAAC,OAAO;SACvB,CAAC,CAAC;KACJ;AACH,CAAC,CAAA,CAAC;AAEF,kBAAe,eAAe,CAAC","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport jwt from \"jsonwebtoken\";\n\nimport { config } from \"../util/config\";\n\ninterface UserRequest extends Request {\n  username?: string;\n}\n\ninterface JwtPayload {\n  username: string;\n}\n\nconst isAuthenticated = async (\n  req: UserRequest,\n  res: Response,\n  next: NextFunction\n) => {\n  const authHeader = req.get(\"Authorization\");\n  if (!authHeader) {\n    return res.status(404).render(\"404\", {\n      path: \"/404\",\n      pageTitle: \"404 - Page Not found\",\n    });\n  }\n  try {\n    const token = authHeader.split(\" \")[1];\n    if (token) {\n      const { username } = jwt.verify(\n        token,\n        config.JWT_KEY!\n      ) as unknown as JwtPayload;\n      req.body.username = username;\n      res.locals.isAuthenticated = req.body.username;\n      next();\n    } else {\n      return res.status(401).json({\n        message: \"Unauthorized!\",\n      });\n    }\n  } catch (err) {\n    const error = err as Error;\n    return res.status(404).json({\n      message: error.message,\n    });\n  }\n};\n\nexport default isAuthenticated;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"78a4a033822296fc911535ba14845483fabe861b","contentHash":"230ff6348c84c08168026cdd1e504b44d46249a1a4e326ff9938cb32edd3135b"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/posts.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/posts.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":16},"end":{"line":7,"column":47}},"5":{"start":{"line":8,"column":17},"end":{"line":8,"column":65}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":60}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":68}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":65}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":67}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":66}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[1,1],"2":[2,2]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/posts.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/posts.ts"],"names":[],"mappings":";;;;;AAAA,sDAA8B;AAC9B,gDAM8B;AAC9B,kEAAmD;AAEnD,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,gBAAe,EAAE,gBAAQ,CAAC,CAAC;AACnD,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,gBAAe,EAAE,sBAAc,CAAC,CAAC;AAC3D,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,gBAAe,EAAE,kBAAU,CAAC,CAAC;AACxD,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,gBAAe,EAAE,kBAAU,CAAC,CAAC;AAC1D,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,gBAAe,EAAE,mBAAW,CAAC,CAAC;AAEzD,kBAAe,MAAM,CAAC","sourcesContent":["import express from \"express\";\nimport {\n  getPosts,\n  createPost,\n  deletePost,\n  getAllPosts,\n  createPostForm,\n} from \"../controllers/posts\";\nimport isAuthenticated from \"../middleware/isAuth\";\n\nconst router = express.Router();\n\nrouter.get(\"/getPosts\", isAuthenticated, getPosts);\nrouter.get(\"/createPost\", isAuthenticated, createPostForm);\nrouter.post(\"/createPost\", isAuthenticated, createPost);\nrouter.delete(\"/deletePost\", isAuthenticated, deletePost);\nrouter.get(\"/getAllPosts\", isAuthenticated, getAllPosts);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"424c96c9fb5570a33b75d97f0432f323d2a2ddbb","contentHash":"ea8d5d764186d2097d7fab5518d41cf276370bbb8d80495f248020890ca5caac"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/posts.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/posts.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":115}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":59}},"17":{"start":{"line":17,"column":17},"end":{"line":37,"column":2}},"18":{"start":{"line":17,"column":38},"end":{"line":37,"column":2}},"19":{"start":{"line":18,"column":4},"end":{"line":36,"column":5}},"20":{"start":{"line":19,"column":26},"end":{"line":19,"column":69}},"21":{"start":{"line":20,"column":25},"end":{"line":20,"column":39}},"22":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"23":{"start":{"line":22,"column":12},"end":{"line":22,"column":45}},"24":{"start":{"line":24,"column":23},"end":{"line":24,"column":63}},"25":{"start":{"line":25,"column":8},"end":{"line":28,"column":11}},"26":{"start":{"line":31,"column":22},"end":{"line":31,"column":25}},"27":{"start":{"line":32,"column":8},"end":{"line":35,"column":11}},"28":{"start":{"line":38,"column":0},"end":{"line":38,"column":28}},"29":{"start":{"line":39,"column":23},"end":{"line":45,"column":1}},"30":{"start":{"line":40,"column":4},"end":{"line":44,"column":7}},"31":{"start":{"line":46,"column":0},"end":{"line":46,"column":40}},"32":{"start":{"line":47,"column":19},"end":{"line":68,"column":2}},"33":{"start":{"line":47,"column":40},"end":{"line":68,"column":2}},"34":{"start":{"line":48,"column":4},"end":{"line":67,"column":5}},"35":{"start":{"line":49,"column":39},"end":{"line":49,"column":47}},"36":{"start":{"line":50,"column":26},"end":{"line":50,"column":36}},"37":{"start":{"line":51,"column":22},"end":{"line":51,"column":39}},"38":{"start":{"line":52,"column":8},"end":{"line":58,"column":9}},"39":{"start":{"line":53,"column":30},"end":{"line":53,"column":87}},"40":{"start":{"line":54,"column":27},"end":{"line":54,"column":49}},"41":{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},"42":{"start":{"line":56,"column":16},"end":{"line":56,"column":55}},"43":{"start":{"line":59,"column":8},"end":{"line":59,"column":44}},"44":{"start":{"line":62,"column":22},"end":{"line":62,"column":25}},"45":{"start":{"line":63,"column":8},"end":{"line":66,"column":11}},"46":{"start":{"line":69,"column":0},"end":{"line":69,"column":32}},"47":{"start":{"line":70,"column":19},"end":{"line":85,"column":2}},"48":{"start":{"line":70,"column":40},"end":{"line":85,"column":2}},"49":{"start":{"line":71,"column":19},"end":{"line":71,"column":27}},"50":{"start":{"line":72,"column":4},"end":{"line":84,"column":5}},"51":{"start":{"line":73,"column":26},"end":{"line":73,"column":69}},"52":{"start":{"line":74,"column":23},"end":{"line":74,"column":53}},"53":{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},"54":{"start":{"line":76,"column":12},"end":{"line":76,"column":51}},"55":{"start":{"line":78,"column":8},"end":{"line":78,"column":43}},"56":{"start":{"line":81,"column":8},"end":{"line":83,"column":11}},"57":{"start":{"line":86,"column":0},"end":{"line":86,"column":32}},"58":{"start":{"line":87,"column":20},"end":{"line":106,"column":2}},"59":{"start":{"line":87,"column":41},"end":{"line":106,"column":2}},"60":{"start":{"line":88,"column":22},"end":{"line":88,"column":65}},"61":{"start":{"line":89,"column":21},"end":{"line":89,"column":38}},"62":{"start":{"line":90,"column":4},"end":{"line":105,"column":5}},"63":{"start":{"line":91,"column":8},"end":{"line":99,"column":9}},"64":{"start":{"line":92,"column":12},"end":{"line":92,"column":45}},"65":{"start":{"line":95,"column":27},"end":{"line":95,"column":58}},"66":{"start":{"line":96,"column":12},"end":{"line":98,"column":15}},"67":{"start":{"line":102,"column":8},"end":{"line":104,"column":11}},"68":{"start":{"line":107,"column":0},"end":{"line":107,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":17,"column":17},"end":{"line":17,"column":18}},"loc":{"start":{"line":17,"column":38},"end":{"line":37,"column":2}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":17,"column":72},"end":{"line":17,"column":73}},"loc":{"start":{"line":17,"column":85},"end":{"line":37,"column":1}},"line":17},"10":{"name":"(anonymous_10)","decl":{"start":{"line":39,"column":23},"end":{"line":39,"column":24}},"loc":{"start":{"line":39,"column":45},"end":{"line":45,"column":1}},"line":39},"11":{"name":"(anonymous_11)","decl":{"start":{"line":47,"column":19},"end":{"line":47,"column":20}},"loc":{"start":{"line":47,"column":40},"end":{"line":68,"column":2}},"line":47},"12":{"name":"(anonymous_12)","decl":{"start":{"line":47,"column":74},"end":{"line":47,"column":75}},"loc":{"start":{"line":47,"column":87},"end":{"line":68,"column":1}},"line":47},"13":{"name":"(anonymous_13)","decl":{"start":{"line":70,"column":19},"end":{"line":70,"column":20}},"loc":{"start":{"line":70,"column":40},"end":{"line":85,"column":2}},"line":70},"14":{"name":"(anonymous_14)","decl":{"start":{"line":70,"column":74},"end":{"line":70,"column":75}},"loc":{"start":{"line":70,"column":87},"end":{"line":85,"column":1}},"line":70},"15":{"name":"(anonymous_15)","decl":{"start":{"line":87,"column":20},"end":{"line":87,"column":21}},"loc":{"start":{"line":87,"column":41},"end":{"line":106,"column":2}},"line":87},"16":{"name":"(anonymous_16)","decl":{"start":{"line":87,"column":75},"end":{"line":87,"column":76}},"loc":{"start":{"line":87,"column":88},"end":{"line":106,"column":1}},"line":87}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},{"start":{"line":21,"column":8},"end":{"line":23,"column":9}}],"line":21},"9":{"loc":{"start":{"line":52,"column":8},"end":{"line":58,"column":9}},"type":"if","locations":[{"start":{"line":52,"column":8},"end":{"line":58,"column":9}},{"start":{"line":52,"column":8},"end":{"line":58,"column":9}}],"line":52},"10":{"loc":{"start":{"line":52,"column":12},"end":{"line":52,"column":41}},"type":"binary-expr","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":17}},{"start":{"line":52,"column":21},"end":{"line":52,"column":26}},{"start":{"line":52,"column":30},"end":{"line":52,"column":41}}],"line":52},"11":{"loc":{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":57,"column":13}},{"start":{"line":55,"column":12},"end":{"line":57,"column":13}}],"line":55},"12":{"loc":{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},{"start":{"line":75,"column":8},"end":{"line":77,"column":9}}],"line":75},"13":{"loc":{"start":{"line":91,"column":8},"end":{"line":99,"column":9}},"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":99,"column":9}},{"start":{"line":91,"column":8},"end":{"line":99,"column":9}}],"line":91}},"s":{"0":1,"1":6,"2":0,"3":9,"4":6,"5":6,"6":0,"7":0,"8":0,"9":0,"10":15,"11":9,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":2,"19":2,"20":2,"21":2,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":2,"34":2,"35":2,"36":2,"37":2,"38":2,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":2,"49":2,"50":2,"51":2,"52":2,"53":2,"54":1,"55":1,"56":1,"57":1,"58":1,"59":3,"60":3,"61":3,"62":3,"63":3,"64":1,"65":2,"66":2,"67":1,"68":1},"f":{"0":9,"1":6,"2":0,"3":9,"4":6,"5":0,"6":15,"7":1,"8":2,"9":2,"10":1,"11":2,"12":2,"13":2,"14":2,"15":3,"16":3},"b":{"0":[1,1,1],"1":[6,0],"2":[9,9],"3":[9,6],"4":[9,9],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[1,1],"9":[1,1],"10":[2,2,1],"11":[1,0],"12":[1,1],"13":[1,2]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/posts.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/controllers/posts.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AACA,4DAAmC;AAM5B,MAAM,QAAQ,GAAG,CACtB,GAAgB,EAChB,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,IAAI;QACF,MAAM,SAAS,GAAQ,IAAI,eAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACxD,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;QAChC,IAAI,CAAC,QAAQ,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;SAClC;QACD,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACxD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;YAChB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM;SACzB,CAAC,CAAC;KACJ;IAAC,OAAO,GAAG,EAAE;QACZ,MAAM,KAAK,GAAG,GAAY,CAAC;QAC3B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,KAAK;SACN,CAAC,CAAC;KACJ;AACH,CAAC,CAAA,CAAC;AAvBW,QAAA,QAAQ,YAuBnB;AAEK,MAAM,cAAc,GAAG,CAC5B,IAAa,EACb,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,kBAAkB,EAAE;QACzC,IAAI,EAAE,mBAAmB;QACzB,SAAS,EAAE,aAAa;QACxB,YAAY,EAAE,EAAE;KACjB,CAAC,CAAC;AACL,CAAC,CAAC;AAVW,QAAA,cAAc,kBAUzB;AAEK,MAAM,UAAU,GAAG,CACxB,GAAgB,EAChB,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;QACxC,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;QAC7B,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;QAChC,IAAI,KAAK,IAAI,KAAK,IAAI,WAAW,EAAE;YACjC,MAAM,SAAS,GAAQ,IAAI,eAAI,CAAC,KAAK,EAAE,WAAW,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YACtE,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,IAAI,EAAE,CAAC;YACtC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;gBAChC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;aACxC;SACF;QACD,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;KACrC;IAAC,OAAO,GAAG,EAAE;QACZ,MAAM,KAAK,GAAG,GAAY,CAAC;QAC3B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,KAAK;SACN,CAAC,CAAC;KACJ;AACH,CAAC,CAAA,CAAC;AAxBW,QAAA,UAAU,cAwBrB;AAEK,MAAM,UAAU,GAAG,CACxB,GAAY,EACZ,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAExB,IAAI;QACF,MAAM,SAAS,GAAQ,IAAI,eAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACxD,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;QAE9C,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,KAAK,CAAC,EAAE;YAChC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;SACxC;QAED,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;KACpC;IAAC,OAAO,KAAK,EAAE;QACd,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,KAAK;SACf,CAAC,CAAC;KACJ;AACH,CAAC,CAAA,CAAC;AArBW,QAAA,UAAU,cAqBrB;AAEK,MAAM,WAAW,GAAG,CACzB,GAAgB,EAChB,GAAa,EACb,KAAmB,EACnB,EAAE;IACF,MAAM,SAAS,GAAQ,IAAI,eAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACxD,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;IACnC,IAAI;QACF,IAAI,QAAQ,KAAK,iBAAiB,EAAE;YAClC,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;SAClC;aAAM;YACL,MAAM,MAAM,GAAG,MAAM,SAAS,CAAC,aAAa,EAAE,CAAC;YAC/C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC1B,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;aACjB,CAAC,CAAC;SACJ;KACF;IAAC,OAAO,GAAG,EAAE;QACZ,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YACnB,KAAK,EAAE,GAAG;SACX,CAAC,CAAC;KACJ;AACH,CAAC,CAAA,CAAC;AArBW,QAAA,WAAW,eAqBtB","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport Post from \"../models/posts\";\n\ninterface UserRequest extends Request {\n  username?: string;\n}\n\nexport const getPosts = async (\n  req: UserRequest,\n  res: Response,\n  _next: NextFunction\n) => {\n  try {\n    const postModel: any = new Post(null, null, null, null);\n    const username = req.body.email;\n    if (!username) {\n      throw new Error(\"Unauthorized!\");\n    }\n    const result = await postModel.fetchAllByMail(username);\n    return res.status(200).json({\n      posts: result[0],\n      length: result[0].length,\n    });\n  } catch (err) {\n    const error = err as Error;\n    return res.status(401).json({\n      message: error.message,\n      error,\n    });\n  }\n};\n\nexport const createPostForm = (\n  _req: Request,\n  res: Response,\n  _next: NextFunction\n) => {\n  res.status(200).render(\"posts/createpost\", {\n    path: \"/posts/createpost\",\n    pageTitle: \"Create Post\",\n    errorMessage: \"\",\n  });\n};\n\nexport const createPost = async (\n  req: UserRequest,\n  res: Response,\n  _next: NextFunction\n) => {\n  try {\n    const { title, description } = req.body;\n    const createdAt = new Date();\n    const email = req.body.username;\n    if (email && title && description) {\n      const postModel: any = new Post(title, description, createdAt, email);\n      const result = await postModel.save();\n      if (result[0].affectedRows === 1) {\n        return res.status(200).json(result[0]);\n      }\n    }\n    throw new Error(\"No data created!\");\n  } catch (err) {\n    const error = err as Error;\n    return res.status(401).json({\n      message: error.message,\n      error,\n    });\n  }\n};\n\nexport const deletePost = async (\n  req: Request,\n  res: Response,\n  _next: NextFunction\n) => {\n  const { id } = req.body;\n\n  try {\n    const postModel: any = new Post(null, null, null, null);\n    const result = await postModel.deleteByID(id);\n\n    if (result[0].affectedRows === 1) {\n      return res.status(200).json(result[0]);\n    }\n\n    throw new Error(\"Data not found!\");\n  } catch (error) {\n    return res.status(404).json({\n      message: error,\n    });\n  }\n};\n\nexport const getAllPosts = async (\n  req: UserRequest,\n  res: Response,\n  _next: NextFunction\n) => {\n  const postModel: any = new Post(null, null, null, null);\n  const username = req.body.username;\n  try {\n    if (username !== \"admin@admin.com\") {\n      throw new Error(\"Unauthorized!\");\n    } else {\n      const result = await postModel.adminFetchAll();\n      return res.status(200).json({\n        posts: result[0],\n      });\n    }\n  } catch (err) {\n    res.status(401).json({\n      error: err,\n    });\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7bdd3c03806febff4728a1c4f888b35e1372cb4a","contentHash":"ed05ecb694e3a5511a00684478d23d14e72dfd577b89aa86d0ae0c2f7fd7f172"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/posts.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/posts.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":19},"end":{"line":6,"column":63}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":27}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":39}},"6":{"start":{"line":11,"column":8},"end":{"line":11,"column":35}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":27}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":182}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":82}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":65}},"11":{"start":{"line":24,"column":8},"end":{"line":24,"column":90}},"12":{"start":{"line":27,"column":0},"end":{"line":27,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":54},"end":{"line":13,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":11},"end":{"line":16,"column":5}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":19},"end":{"line":19,"column":5}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":20},"end":{"line":22,"column":5}},"line":20},"5":{"name":"(anonymous_5)","decl":{"start":{"line":23,"column":4},"end":{"line":23,"column":5}},"loc":{"start":{"line":23,"column":26},"end":{"line":25,"column":5}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":8,"5":8,"6":8,"7":8,"8":1,"9":2,"10":2,"11":1,"12":1},"f":{"0":1,"1":8,"2":1,"3":2,"4":2,"5":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/posts.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/models/posts.ts"],"names":[],"mappings":";;;;;AAAA,gEAAkC;AAElC,MAAqB,IAAI;IAKvB,YACE,KAAoB,EACpB,WAA0B,EAC1B,SAAsB,EACtB,KAAoB;QAEpB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,IAAI;QACF,OAAO,kBAAE,CAAC,OAAO,CACf,8EAA8E,EAC9E,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAC3D,CAAC;IACJ,CAAC;IAED,UAAU,CAAC,EAAU;QACnB,OAAO,kBAAE,CAAC,OAAO,CAAC,gCAAgC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED,aAAa;QACX,OAAO,kBAAE,CAAC,OAAO,CAAC,qBAAqB,CAAC,CAAC;IAC3C,CAAC;IAED,cAAc,CAAC,KAAa;QAC1B,OAAO,kBAAE,CAAC,OAAO,CAAC,qCAAqC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IACpE,CAAC;CACF;AAnCD,uBAmCC","sourcesContent":["import db from \"../util/database\";\n\nexport default class Post {\n  title: string | null;\n  description: string | null;\n  createdAt: Date | null;\n  email: string | null;\n  constructor(\n    title: string | null,\n    description: string | null,\n    createdAt: Date | null,\n    email: string | null\n  ) {\n    this.title = title;\n    this.description = description;\n    this.createdAt = createdAt;\n    this.email = email;\n  }\n\n  save() {\n    return db.execute(\n      \"INSERT INTO posts (title, description, createdAt, email) VALUES (?, ?, ?, ?)\",\n      [this.title, this.description, this.createdAt, this.email]\n    );\n  }\n\n  deleteByID(id: string) {\n    return db.execute(\"DELETE FROM posts WHERE id = ?\", [id]);\n  }\n\n  adminFetchAll() {\n    return db.execute(\"SELECT * FROM posts\");\n  }\n\n  fetchAllByMail(email: string) {\n    return db.execute(\"SELECT * FROM posts WHERE email = ?\", [email]);\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d3512a2bd44758326bb7de551dd6e77c8f10cdef","contentHash":"b7777e83cdfb7cb72ccc69c92d0c5ebef25f1669d139e0b1d13cf647b7789de7"},"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/error404.ts":{"path":"/home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/error404.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":41}},"5":{"start":{"line":8,"column":0},"end":{"line":13,"column":3}},"6":{"start":{"line":9,"column":18},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":4},"end":{"line":12,"column":7}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":11},"end":{"line":8,"column":12}},"loc":{"start":{"line":8,"column":33},"end":{"line":13,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1,"1":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/error404.ts","sources":["file:///home/Bhoopm/Boopathy/NodeJS/ShoppingCartSQL/src/routes/error404.ts"],"names":[],"mappings":";;;;;AAAA,sDAAmE;AAEnE,MAAM,MAAM,GAAG,iBAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAa,EAAE,GAAa,EAAE,KAAmB,EAAE,EAAE;IAC/D,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;IAE3C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;QAC1B,OAAO,EAAE,KAAK,CAAC,OAAO;KACvB,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import express, { Request, Response, NextFunction } from \"express\";\n\nconst router = express.Router();\n\nrouter.use((_req: Request, res: Response, _next: NextFunction) => {\n  const error = new Error(\"Page not found!\");\n\n  return res.status(404).json({\n    message: error.message,\n  });\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"84a3c36b9b66c36dd267554d8f901bc67c2fbf59","contentHash":"ef6abb23b91ce630af4dcf8c6ee487c9b17f544ff24e06bc72c1522e6d6949bd"}}